<app-content>
  <section class="section" *ngIf="isFormPageInitialized">
    <div class="row">
      <div class="col-lg-12">
        <div class="ibox ">
          <div class="ibox-title">
            <h4 *ngIf="id < 1">Add Report</h4>
            <h4 *ngIf="id > 0">Edit Report</h4>
          </div>
          <div class="ibox-content">
            <div class="row">
              <div class="col-sm-12">
                <div class="section-body" *ngIf="isloaded">
                  <form [formGroup]="ReportFormGroup">
                    <div class="row">
                      <div class="col-12">
                        <div class="card-body">
                          <div class="form-group row">
                            <label for="name" class="col-sm-2 col-form-label">Name</label>
                            <div class="col-sm-10">
                              <input type="text" class="form-control" formControlName="name" id="name"
                                     pattern="^([A-Za-z]+ )+[A-Za-z]+$|^[A-Za-z]+$" autofocus
                                     [ngclass]="{ 'is-invalid': f.name.invalid && (f.name.touched || f.name.dirty) }">
                              <p-message severity="error" text="Name is required"
                                         *ngIf="f.name.invalid && (f.name.touched || f.name.dirty)">
                              </p-message>
                            </div>
                          </div>

                          <div class="form-group row">
                            <label for="description" class="col-sm-2 col-form-label">Description</label>
                            <div class="col-sm-10">
                              <input type="text" class="form-control" formControlName="description" id="description"
                                     autofocus pattern="^([A-Za-z]+ )+[A-Za-z]+$|^[A-Za-z]+$"
                                     [ngclass]="{ 'is-invalid': f.description.invalid && (f.description.touched || f.description.dirty) }">
                              <p-message severity="error" text="Description is required"
                                         *ngIf="f.description.invalid && (f.description.touched || f.description.dirty)">
                              </p-message>
                            </div>
                          </div>

                          <div class="form-group row">
                            <label for="reportUrl" class="col-sm-2 col-form-label">Report URL</label>
                            <div class="col-sm-10">
                              <input type="text" class="form-control" formControlName="reportUrl" autofocus
                                     [ngclass]="{ 'is-invalid': f.reportUrl.invalid && (f.reportUrl.touched || f.reportUrl.dirty) }">

                              <p-message severity="error" text="Report Url is required"
                                         *ngIf="f.reportUrl.invalid && (f.reportUrl.touched || f.reportUrl.dirty)">
                              </p-message>
                              <p-message severity="error" text="Please add a Valid URL"
                                         *ngIf="f.reportUrl.invalid && f.reportUrl.errors.whitespace && (f.reportUrl.touched || f.reportUrl.dirty)">

                              </p-message>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12 bg-light text-right p-3">
        <button name="submit" (click)="saveReport()" [disabled]="ReportFormGroup.invalid" class="btn btn-primary">
          <i class="fa fa-save"></i> Save Report
        </button>
      </div>
    </div>
  </section>
</app-content>
